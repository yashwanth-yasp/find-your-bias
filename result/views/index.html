<!DOCTYPE html>
<html ng-app="findyourbias">
  <head>
    <meta charset="utf-8">
    <title>Find your bias -- Result</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="docker-compose, docker, stack">
    <meta name="author" content="Docker">
    <!-- Important: keep /result prefix so static files resolve -->
    <link rel="stylesheet" href="/result/stylesheets/style.css" />
  </head>
  <body ng-controller="statsCtrl">
    <div id="content-container">
      <div id="content-container-center">
        <h1>Live Vote Stream</h1>
        <button id="ai-button" ng-click="getAnalysis()">Get AI Analysis</button>
        <div id="results-table">
          <table>
            <thead>
              <tr>
                <th>Voter ID</th>
                <th>Tweet</th>
                <th>Vote</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="vote in votes">
                <td>{{ vote.id }}</td>
                <td>{{ vote.tweet }}</td>
                <td>{{ vote.vote }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="ai-analysis" ng-if="analysis">
          <h2>AI Analysis</h2>
          <pre>{{ analysis }}</pre>
        </div>
      </div>
    </div>
    <div id="result">
      <span ng-if="total == 0">No votes yet</span>
      <span ng-if="total > 0">{{ total }} total votes</span>
    </div>

    <!-- Keep /result prefix for scripts too -->
    <script src="/result/socket.io/socket.io.js"></script>
    <script src="/result/angular.min.js"></script>
    <script src="/result/app.js"></script>
  </body>
</html>
